<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Spinner?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.AnchorPane?>
<HBox xmlns="http://javafx.com/javafx/20.0.1" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="io.xj.gui.controllers.content.program.edit_mode.VoiceController"
      stylesheets="@/styles/default-theme.css"
      fx:id="voiceContainer">

  <VBox fx:id="voiceControlContainer" styleClass="voice-control-container" spacing="5">

    <!-- Action Menu & Voice Name -->
    <HBox HBox.hgrow="ALWAYS">
      <padding>
        <Insets left="2.0" top="2.0"/>
      </padding>
      <Button fx:id="voiceActionLauncher" onAction="#handlePressedVoiceActionLauncher" HBox.hgrow="ALWAYS" styleClass="popup-menu-launcher">
        <graphic>
          <ImageView fitHeight="16.0" fitWidth="16.0">
            <Image url="@/icons/hamburger-menu.png"/>
          </ImageView>
        </graphic>
      </Button>
      <TextField fx:id="voiceNameField" HBox.hgrow="ALWAYS"/>
    </HBox>

    <!-- Voice Type -->
    <HBox HBox.hgrow="ALWAYS" alignment="CENTER_LEFT" spacing="5.0">
      <Label minWidth="40.0" text="TYPE" styleClass="program-editor-field-label"/>
      <ComboBox minWidth="102.0" fx:id="voiceTypeChooser"/>
    </HBox>

    <!-- Pattern Controls -->
    <StackPane HBox.hgrow="ALWAYS" VBox.vgrow="ALWAYS" styleClass="voice-pattern-container">
      <Label fx:id="noSequencesLabel" text="NO SEQUENCES" styleClass="no-sequences-label"/>
      <VBox fx:id="voicePatternControlContainer" spacing="2">
        <padding>
          <Insets left="2.0" top="2.0"/>
        </padding>
        <HBox spacing="2.0" HBox.hgrow="ALWAYS">
          <Button fx:id="patternSelectorLauncher" onAction="#handlePressedPatternSelectorLauncher" HBox.hgrow="ALWAYS" styleClass="popup-menu-launcher">
            <graphic>
              <ImageView fitHeight="16.0" fitWidth="16.0">
                <Image url="@/icons/down-arrow.png"/>
              </ImageView>
            </graphic>
          </Button>
          <Button fx:id="patternActionLauncher" onAction="#handlePressedPatternActionLauncher" HBox.hgrow="ALWAYS" styleClass="popup-menu-launcher">
            <graphic>
              <ImageView fitHeight="16.0" fitWidth="16.0">
                <Image url="@/icons/hamburger-menu.png"/>
              </ImageView>
            </graphic>
          </Button>
          <TextField fx:id="patternNameField" HBox.hgrow="ALWAYS"/>
          <Label fx:id="noPatternsLabel" text="NO PATTERNS" styleClass="no-patterns-label"/>
        </HBox>
        <HBox spacing="2.0" HBox.hgrow="ALWAYS" fx:id="patternTotalContainer" alignment="CENTER_LEFT">
          <Label minWidth="50" text="TOTAL" styleClass="program-editor-field-label"/>
          <Spinner minWidth="90.0" fx:id="patternTotalChooser" editable="true"/>
        </HBox>
      </VBox>
    </StackPane>

  </VBox>

  <VBox fx:id="tracksContainer" spacing="2">
    <AnchorPane fx:id="trackAddContainer">
      <Button fx:id="addTrackButton" onAction="#handlePressedAddTrack" HBox.hgrow="ALWAYS">
        <graphic>
          <ImageView fitHeight="16.0" fitWidth="16.0">
            <Image url="@/icons/plus.png"/>
          </ImageView>
        </graphic>
      </Button>
    </AnchorPane>
  </VBox>

  <!--
    TODO remove unused voice fxml
      <VBox fx:id="voiceControlsContainer" prefHeight="145.0" prefWidth="274.0" styleClass="voice-container"
            HBox.hgrow="NEVER">

        <AnchorPane prefHeight="43.0" prefWidth="274.0" VBox.vgrow="NEVER">



        </AnchorPane>
        <AnchorPane layoutX="10.0" layoutY="10.0" prefHeight="38.0" prefWidth="274.0" VBox.vgrow="NEVER">

          <Label alignment="CENTER" layoutX="6.0" layoutY="6.0" prefHeight="26.0" prefWidth="48.0" text="VOICE :"/>
          <ComboBox fx:id="instrumentTypeCombobox" layoutX="62.0" layoutY="7.0" prefHeight="25.0" prefWidth="160.0"/>

        </AnchorPane>
        <HBox spacing="5.0" styleClass="voice-pattern-container" VBox.vgrow="ALWAYS">

          <Button fx:id="searchPatternButton" minWidth="30" maxWidth="30" onMouseClicked="#handlePressedPatternSearch">
            <graphic>
              <ImageView fitHeight="16.0" fitWidth="16.0">
                <Image url="@/icons/down-arrow.png"/>
              </ImageView>
            </graphic>
          </Button>
          <Button fx:id="patternMenuButton" minWidth="30" maxWidth="30" onMouseClicked="#handlePressedPatternMenu">
            <graphic>
              <ImageView fitHeight="16.0" fitWidth="16.0">
                <Image url="@/icons/hamburger-menu.png"/>
              </ImageView>
            </graphic>
          </Button>
          <Group styleClass="voice-pattern-container">

            <TextField fx:id="patternNameField" maxHeight="-Infinity" minHeight="-Infinity" minWidth="-Infinity"
                       prefHeight="25.0" prefWidth="155.0"/>
            <Label fx:id="noPatternLabel" prefHeight="25.0" prefWidth="150.0" styleClass="voice-pattern-container"
                   text="NO PATTERN">
              <font>
                <Font name="System Italic" size="12.0"/>
              </font>
              <padding>
                <Insets left="2.0"/>
              </padding>
            </Label>
            <Label fx:id="noSequenceLabel" layoutX="2.0" layoutY="2.0" prefHeight="25.0" prefWidth="155.0"
                   styleClass="voice-pattern-container" text="NO SEQUENCE">
              <font>
                <Font name="System Italic" size="12.0"/>
              </font>
              <padding>
                <Insets left="2.0"/>
              </padding>
            </Label>

          </Group>

        </HBox>
        <HBox fx:id="totalHbox" alignment="CENTER_LEFT" prefHeight="38.0" prefWidth="274.0"
              styleClass="voice-pattern-container" VBox.vgrow="ALWAYS">

          <Label prefHeight="26.0" prefWidth="38.0" text="Total :" textFill="WHITE"/>
          <Spinner fx:id="patternTotalCountChooser"/>

          <padding>
            <Insets left="4.0"/>
          </padding>
        </HBox>

      </VBox>
      <AnchorPane fx:id="trackContainer" prefHeight="156.0" prefWidth="224.0">

        <Group fx:id="trackButtonGroup" AnchorPane.leftAnchor="4.0" AnchorPane.topAnchor="4.0">

          <Button fx:id="addTrackButton" minWidth="30" maxWidth="30">
            <graphic>
              <ImageView fitHeight="16.0" fitWidth="16.0">
                <Image url="@/icons/plus.png"/>
              </ImageView>
            </graphic>
          </Button>
          <Button fx:id="trackMenuButton" minWidth="30" maxWidth="30" onMouseClicked="#handlePressedTrackMenu">
            <graphic>
              <ImageView fitHeight="16.0" fitWidth="16.0">
                <Image url="@/icons/hamburger-menu.png"/>
              </ImageView>
            </graphic>
          </Button>
        </Group>
        <Button fx:id="addTrackButton_1" minWidth="30" maxWidth="30">
          <graphic>
            <ImageView fitHeight="16.0" fitWidth="16.0">
              <Image url="@/icons/plus.png"/>
            </ImageView>
          </graphic>
        </Button>
        <TextField fx:id="trackNameField" layoutX="50.0" layoutY="10.0" minHeight="-Infinity" minWidth="-Infinity"
                   prefHeight="25.0" prefWidth="155.0"/>

      </AnchorPane>
      <AnchorPane fx:id="timeLineAnchorpane" prefHeight="155.0" HBox.hgrow="ALWAYS"
                  onMouseClicked="#handlePressedTimeline"/>&lt;!&ndash; TODO in stylesheet add -fx-cursor: crosshair; &ndash;&gt;
  -->

</HBox>
