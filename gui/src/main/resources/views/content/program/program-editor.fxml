<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Spinner?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.ToggleButton?>
<?import javafx.scene.control.ToggleGroup?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Priority?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>
<VBox fx:id="container" stylesheets="@/styles/default-theme.css" xmlns="http://javafx.com/javafx/20.0.1"
      xmlns:fx="http://javafx.com/fxml/1" fx:controller="io.xj.gui.controllers.content.program.ProgramEditorController" styleClass="program-editor">

    <VBox.vgrow>
        <Priority fx:constant="ALWAYS"/>
    </VBox.vgrow>
    <HBox alignment="CENTER_LEFT" spacing="5.0">
        <padding>
            <Insets left="5.0"/>
        </padding>
        <Button fx:id="configButton" minWidth="30" mnemonicParsing="false" onAction="#handleEditConfig" text=" ">
            <graphic>
                <ImageView fitHeight="16.0" fitWidth="16.0">
                    <Image url="@/icons/settings.png"/>
                </ImageView>
            </graphic>
        </Button>
        <fx:define>
            <ToggleGroup fx:id="editorModeToggleGroup"/>
        </fx:define>
        <ToggleButton fx:id="bindButton" toggleGroup="$editorModeToggleGroup" mnemonicParsing="false" minWidth="45"
                      text="BIND" styleClass="program-editor-menu-button"/>
        <ToggleButton fx:id="editButton" toggleGroup="$editorModeToggleGroup" mnemonicParsing="false" minWidth="45"
                      text="EDIT" styleClass="program-editor-menu-button"/>
        <Button fx:id="duplicateButton" minWidth="30" mnemonicParsing="false" onAction="#openCloneDialog" text=" ">
            <graphic>
                <ImageView fitHeight="16.0" fitWidth="16.0" translateX="-2.0">
                    <Image url="@/icons/copy-grey.png"/>
                </ImageView>
            </graphic>
        </Button>
        <Label minWidth="70.0" text="NAME" styleClass="program-editor-field-label"/>
        <TextField fx:id="programNameField" minWidth="140"/>
        <Label minWidth="50.0" text="TYPE" styleClass="program-editor-field-label"/>
        <ComboBox fx:id="typeChooser" minWidth="102.0"/>
        <Label minWidth="56.0" text="STATE" styleClass="program-editor-field-label"/>
        <ComboBox fx:id="stateChooser" minWidth="120.0"/>
        <Label minWidth="55.0" text="KEY" styleClass="program-editor-field-label"/>
        <TextField fx:id="keyField" minWidth="60.0"/>
        <Label minWidth="60.0" text="TEMPO" styleClass="program-editor-field-label"/>
        <Spinner fx:id="tempoChooser" editable="true" minWidth="90.0"/>
    </HBox>
    <StackPane fx:id="programMemeContainer">
        <HBox.hgrow>
            <Priority fx:constant="ALWAYS"/>
        </HBox.hgrow>
    </StackPane>
    <HBox alignment="CENTER_LEFT" spacing="5.0" styleClass="sequence-management-control-bar">
        <padding>
            <Insets left="5" top="2" bottom="2" right="5"/>
        </padding>
        <HBox fx:id="gridAndZoomGroup" alignment="CENTER_LEFT" >
            <Label minWidth="35.0" text="GRID" styleClass="program-editor-field-label">
                <font>
                    <Font size="14.0"/>
                </font>
                <padding>
                    <Insets left="5.0"/>
                </padding>
            </Label>
            <ComboBox fx:id="gridChooser" minWidth="80.0"/>
            <Label minWidth="35.0" text="ZOOM" styleClass="program-editor-field-label">
                <font>
                    <Font size="14.0"/>
                </font>
                <padding>
                    <Insets left="5.0"/>
                </padding>
            </Label>
            <ComboBox fx:id="zoomChooser" minWidth="100.0"/>
        </HBox>
        <ToggleButton fx:id="snapButton" minWidth="45" mnemonicParsing="false" text="SNAP" styleClass="program-editor-menu-button"/>
        <Label minWidth="80" text="SEQUENCE" styleClass="program-editor-field-label">
            <font>
                <Font size="14.0"/>
            </font>
            <padding>
                <Insets left="5.0"/>
            </padding>
        </Label>
        <Button fx:id="sequenceButton" mnemonicParsing="false" text=" ">
            <graphic>
                <ImageView fitHeight="16.0" fitWidth="16.0">
                    <Image url="@/icons/down-arrow.png"/>
                </ImageView>
            </graphic>
        </Button>
        <Button fx:id="sequenceMenuLauncher" mnemonicParsing="false" text=" ">
            <graphic>
                <ImageView fitHeight="16.0" fitWidth="16.0">
                    <Image url="@/icons/hamburger-menu.png"/>
                </ImageView>
            </graphic>
        </Button>
        <HBox fx:id="sequenceItemGroup" alignment="CENTER_LEFT" >
            <TextField fx:id="sequenceName" minWidth="173.0"/>
            <Label minWidth="80" text="TOTAL" styleClass="program-editor-field-label">
                <font>
                    <Font size="14.0"/>
                </font>
                <padding>
                    <Insets left="2.0"/>
                </padding>
            </Label>
            <StackPane>
                <Spinner fx:id="sequenceTotalChooser" editable="true"/>
                <Label fx:id="sequenceTotalLabel" text="16">
                    <padding>
                        <Insets left="5.0"/>
                    </padding>
                </Label>
            </StackPane>
            <Label minWidth="50" text="KEY" styleClass="program-editor-field-label">
                <font>
                    <Font size="14.0"/>
                </font>
                <padding>
                    <Insets left="5.0"/>
                </padding>
            </Label>
            <TextField minWidth="45" fx:id="sequenceKey" text=" "/>
            <Label minWidth="120" text="INTENSITY" styleClass="program-editor-field-label">
                <font>
                    <Font size="14.0"/>
                </font>
                <padding>
                    <Insets left="5.0"/>
                </padding>
            </Label>
            <StackPane>
                <Spinner fx:id="sequenceIntensityChooser" editable="true"/>
                <Label fx:id="sequenceIntensityLabel" text="0.6">
                    <padding>
                        <Insets left="5.0"/>
                    </padding>
                </Label>
            </StackPane>
        </HBox>
        <Label fx:id="noSequenceLabel" prefHeight="27.0"
               prefWidth="219.0" text="NO SEQUENCE">
        </Label>
    </HBox>
    <ScrollPane fitToHeight="true" VBox.vgrow="ALWAYS">
        <HBox fx:id="bindViewParentContainer" alignment="CENTER_LEFT">
            <VBox>
                <Label styleClass="bind-mode-label" text="OFFSET"
                       textFill="GREY" HBox.hgrow="ALWAYS" maxWidth="Infinity">
                    <padding>
                        <Insets left="5.0" right="5.0"/>
                    </padding>
                </Label>
                <Label alignment="CENTER" contentDisplay="RIGHT" styleClass="sequence-memes-label"
                       text="SEQUENCES + MEMES"
                       textAlignment="CENTER" textFill="GREY" wrapText="true" VBox.vgrow="ALWAYS">
                    <padding>
                        <Insets left="5.0" right="5.0"/>
                    </padding>
                </Label>
            </VBox>
        </HBox>
    </ScrollPane>
    <padding>
        <Insets top="5.0"/>
    </padding>

</VBox>
